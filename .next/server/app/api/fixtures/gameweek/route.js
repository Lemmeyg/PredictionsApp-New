(()=>{var e={};e.id=589,e.ids=[589],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},79646:e=>{"use strict";e.exports=require("child_process")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},73496:e=>{"use strict";e.exports=require("http2")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},11997:e=>{"use strict";e.exports=require("punycode")},11723:e=>{"use strict";e.exports=require("querystring")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},66889:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>c,serverHooks:()=>x,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>d});var s={};t.r(s),t.d(s,{GET:()=>p});var o=t(42706),i=t(28203),a=t(45994),u=t(87141),n=t(39187);async function p(){try{console.log("Starting gameweek fixtures request...");let e=await (0,u.Ts)();if(!e||0===e.length)return n.NextResponse.json({error:"No fixtures found"},{status:404});return n.NextResponse.json(e)}catch(e){return console.error("Gameweek API Error:",e),n.NextResponse.json({error:"Failed to fetch fixtures",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/fixtures/gameweek/route",pathname:"/api/fixtures/gameweek",filename:"route",bundlePath:"app/api/fixtures/gameweek/route"},resolvedPagePath:"C:\\Users\\Gordo\\Documents\\GitHub\\PredictionsApp-New\\src\\app\\api\\fixtures\\gameweek\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:d,serverHooks:x}=c;function g(){return(0,a.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:d})}},96487:()=>{},78335:()=>{},87141:(e,r,t)=>{"use strict";t.d(r,{GY:()=>n,Ts:()=>x,ef:()=>l});var s=t(79525),o=t(27236),i=t(33873),a=t(70671);(0,o.config)({path:(0,i.resolve)(process.cwd(),".env.local")});let u=process.env.GOOGLE_SHEETS_ID;function n(){let e=Object.entries({GOOGLE_SHEETS_ID:process.env.GOOGLE_SHEETS_ID,GOOGLE_CLIENT_EMAIL:process.env.GOOGLE_CLIENT_EMAIL,GOOGLE_PRIVATE_KEY:process.env.GOOGLE_PRIVATE_KEY}).filter(([,e])=>!e).map(([e])=>e);if(e.length>0)throw Error(`Missing required environment variables: ${e.join(", ")}`)}console.log("Environment variables loaded:",{hasClientEmail:!!process.env.GOOGLE_CLIENT_EMAIL,hasPrivateKey:!!process.env.GOOGLE_PRIVATE_KEY}),n();let p=new a.JWT({email:process.env.GOOGLE_CLIENT_EMAIL,key:process.env.GOOGLE_PRIVATE_KEY?.replace(/\\n/g,"\n"),scopes:["https://www.googleapis.com/auth/spreadsheets"]}),c=s.q7g.sheets({version:"v4",auth:p});async function l(e){try{console.log("Starting Google Sheets update with",e.length,"fixtures"),await d();let r=e.map(e=>[e.id,e.date,e.startTime,e.round,e.homeTeam.name,e.awayTeam.name,e.homeScore??"",e.awayScore??"",e.status]);await c.spreadsheets.values.update({spreadsheetId:u,range:"Fixtures!A2",valueInputOption:"RAW",requestBody:{values:r}}),console.log(`Successfully updated ${r.length} fixtures in Google Sheets`)}catch(e){throw console.error("Error updating fixtures in Google Sheets:",e),e}}async function d(){}async function x(){try{let e=(await c.spreadsheets.values.get({spreadsheetId:u,range:"GameWeek!A:F"})).data.values;if(!e||0===e.length)return[];return e.slice(1).filter(e=>e[0]&&e[4]&&e[5]).map(e=>({id:e[0],homeTeam:e[4].trim(),awayTeam:e[5].trim()}))}catch(e){throw console.error("Error details:",{message:e.message,stack:e.stack,config:e.config}),e}}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,165],()=>t(66889));module.exports=s})();